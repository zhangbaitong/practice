参考：https://github.com/GoogleCloudPlatform/heapster

1：在上述网址的/dev目录下拷贝influx-grafana-pod.json、influx-grafana-service.json、heapster-pod.json到本地


2：下载上诉3个json文件中所有需要的image到本地


3：根据influx-grafana-pod.json创建pod
    kubectl create -f influx-grafana-pod.json


4：根据influx-grafana-service.json创建service
    influx-grafana-service.json


5：根据influx-grafana-service.json创建pod
    kubectl create -f influx-grafana-service.json


6：查询pod、service创建情况
    kubectl get pods
    kubectl get services


7：下载cadvisor镜像
   docker pull google/cadvisor:latest


8：启动cadvisor
sudo docker run \
  --volume=/:/rootfs:ro \
  --volume=/var/run:/var/run:rw \
  --volume=/sys:/sys:ro \
  --volume=/var/lib/docker/:/var/lib/docker:ro \
  --publish=4194:8080 \
  --detach=true \
  --name=cadvisor \
  google/cadvisor:latest \
  --storage_driver=influxdb \
  -storage_driver_db=k8s  \
  -storage_driver_user=admin \
  -storage_driver_password=admin  \
  --storage_driver_host=<master-ip>:8086 \
  --log_dir=/root/kubernetes/logs


9：访问页面
   influx-grafana UI：http://<master-ip>:80
   Influxdb UI：http://<master-ip>:8083.
   cadvisor UI：http://<minion-ip>:4194



